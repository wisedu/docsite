# è®©ä»£ç ç»™è‡ªå·±è¯´è¯ ï¼ javascript {#-javascript}

## ç»“æ„åŒ– {#-}

### æå–å‡½æ•° {#-}

ä»£ç çš„æ„ä¹‰æ²¡æœ‰è¢«è¡¨è¾¾ï¼Œå¦‚ä¸‹ï¼š

```
//emToPixels
var width = (value - 0.5) * 16;

```

ç»™å®ƒèµ·ä¸ªå¥½åå­—ï¼Œä¸€ç›®äº†ç„¶

```
var width = emToPixels(value);

function emToPixels(ems) {
    return (ems - 0.5) * 16;
}

```

### è¡¨è¾¾å¼æ›¿æ¢ä¸ºå‡½æ•° {#-}

æ™®é€šçš„å†™æ³•ï¼š

```
//isVisible
if(!el.offsetWidth || !el.offsetHeight) {
    ...
}

```

çœ‹èµ·æ¥æ›´æœ‰æ„ä¹‰äº†

```
if(!isVisible(el)) {
    ...
}

function isVisible(el) {
    return el.offsetWidth 
&
&
 el.offsetHeight;
}

```

é€šè¿‡ç»™å˜é‡å

```
//isVisible
return a * b + (c / d);

```

åˆ†å¼€å†™ï¼Œæ›´åŠ å®¹æ˜“è®©äººç†è§£

```
var multiplier = a * b;
var divisor = c / d;
return multiplier + divisor;

```

### Class å’Œ module æ¥å£ {#class-module-}

æ™®é€šçš„å†™æ³•ï¼š

```
class Box {
    setState(state) {
        this.state = state;
    }

    getState() {
        return this.state;
    }
}

```

æ¨èçš„å†™æ³•

```
class Box {
    open() {
        this.state = 'open';
    }

    close() {
        this.state = 'closed';
    }

    isOpen() {
        return this.state === 'open';
    }
}

```

### ç¼–å†™çº¯å‡½æ•° {#-}

ä¸Šé¢éƒ½æ˜¯çº¯å‡½æ•°ï¼Œå°±ä¸ä¸¾ä¾‹äº†

> æ²¡æœ‰"å‰¯ä½œç”¨"ï¼ˆside effectï¼‰ï¼š æŒ‡çš„æ˜¯å‡½æ•°å†…éƒ¨ä¸å¤–éƒ¨äº’åŠ¨ï¼ˆæœ€å…¸å‹çš„æƒ…å†µï¼Œå°±æ˜¯ä¿®æ”¹å…¨å±€å˜é‡çš„å€¼ï¼‰ï¼Œäº§ç”Ÿè¿ç®—ä»¥å¤–çš„å…¶ä»–ç»“æœã€‚ å‡½æ•°å¼ç¼–ç¨‹å¼ºè°ƒæ²¡æœ‰"å‰¯ä½œç”¨"ï¼Œæ„å‘³ç€å‡½æ•°è¦ä¿æŒç‹¬ç«‹ï¼Œæ‰€æœ‰åŠŸèƒ½å°±æ˜¯è¿”å›ä¸€ä¸ªæ–°çš„å€¼ï¼Œæ²¡æœ‰å…¶ä»–è¡Œä¸ºï¼Œå°¤å…¶æ˜¯ä¸å¾—ä¿®æ”¹å¤–éƒ¨å˜é‡çš„å€¼ã€‚
>
> ä¸ä¿®æ”¹çŠ¶æ€ï¼š ä¸Šä¸€ç‚¹å·²ç»æåˆ°ï¼Œå‡½æ•°å¼ç¼–ç¨‹åªæ˜¯è¿”å›æ–°çš„å€¼ï¼Œä¸ä¿®æ”¹ç³»ç»Ÿå˜é‡ã€‚å› æ­¤ï¼Œä¸ä¿®æ”¹å˜é‡ï¼Œä¹Ÿæ˜¯å®ƒçš„ä¸€ä¸ªé‡è¦ç‰¹ç‚¹ã€‚
>
> [æ›´å¤šå¯ä»¥çœ‹è¿™é‡Œ](http://www.ruanyifeng.com/blog/2012/04/functional_programming.html)

### ç›®å½•ç»“æ„å®šä¹‰ {#-}

#### å­é¡µé¢ {#-}

> çº¸è´¨å¼¹çª—ã€æ­¥éª¤æ¡ä¸­çš„æ¯ä¸ªstepä»¥åŠä¸šåŠ¡ä¸Šç‹¬ç«‹çš„é¡µé¢éœ€è¦å†™å…¥å•ç‹¬çš„å­é¡µé¢æ–‡ä»¶å¤¹ï¼ˆåŒ…æ‹¬js,bs,css,htmlï¼Œå¦‚æœæœ‰éƒ½è¦ç‹¬ç«‹ï¼‰ï¼Œå¦‚æœå­é¡µé¢ä¸­è¿˜åŒ…å«å­é¡µé¢ï¼Œåˆ™åœ¨å­é¡µé¢çš„æ–‡ä»¶å¤¹ä¸­å†åµŒå¥—å…¶å­é¡µé¢çš„æ–‡ä»¶å¤¹ã€‚

#### å…¬å…±é¡µé¢ {#-}

> å¦‚æœæŸä¸ªå­é¡µé¢åœ¨å¤šä¸ªæ¨¡å—ä¸­éƒ½æœ‰ç”¨åˆ°ï¼Œåˆ™éœ€è¦å°†å…¶æ”¾åˆ°public/commonpage/æ–‡ä»¶å¤¹ä¸‹ã€‚

#### ä¸åŒè§’è‰²åŠŸèƒ½æ¨¡å—çš„æ‹†åˆ† {#-}

> ä¸åŒçš„åŠŸèƒ½æ¨¡å—ï¼Œåº”å†™åœ¨ä¸åŒçš„ä¸€çº§æ¨¡å—ä¸­ï¼Œå¯¹äºåŒä¸€åŠŸèƒ½æ¨¡å—ä¸‹çš„ä¸åŒè§’è‰²çš„é¡µé¢ï¼Œåº”å½“æ ¹æ®è§’è‰²æ‹†åˆ†æˆä¸åŒçš„ä¸€çº§æ¨¡å—ã€‚

## å‘½å {#-}

* å»ºè®®çš„å‘½åæ–¹å¼ï¼šå˜é‡ï¼å°å†™ ç”¨ \_ åˆ†å‰²ï¼›å‡½æ•°ï¼é©¼å³° åŠ¨è¯ï¼‹åè¯ï¼›æé«˜è¾¨è¯†åº¦
  ```
  var data_rows = getRows();

  ```
* ç§æœ‰å˜é‡ï¼å‡½æ•° åŠ  å‰ç¼€
  _;å…¨å±€å˜é‡ä½¿ç”¨å…¨å¤§å†™_
  åˆ†å‰²

> ä¸è¦ä½¿ç”¨æ¨¡ç³Šçš„è¯è¯­ï¼Œæ¯”å¦‚ï¼šhandleLinks\(\), manageObjects\(\).

```
const _TAG_PARAM = {
    "fe-req-form": _getReqControls,
    "fe-res-table": _getResControls,
    "fe-res-form": _getResControls
}

/***
 * è¯·æ±‚å‚æ•°è½¬æ¢
 */
function _getReqControls(element) {
    ...
    return controls;
}

```

* æ¨¡å—å‘½å ä½¿ç”¨æ¨¡å—çš„æ‹¼éŸ³é¦–å­—æ¯
* htmlå…ƒç´ é’©å­ä½¿ç”¨ data-action= ï¼Œdata-actionçš„å€¼ä¸ºä¸­æ–‡æ±‰å­—ï¼Œå¯¹åŠ¨ä½œè¿›è¡Œè¯´æ˜
  ```
  <
  a href="javascript:void(0)" class="bh-btn bh-btn-primary" id="addKind"
  >
  æ–°å¢ç§ç±»
  <
  /a
  >
  <
  script
  >

  $("#addKind").click(function() {
  });

  <
  /script
  >
  ```

  > eventMap ä¸­ data-action å¯¹åº”çš„æ–¹æ³•å‘½ååº”è¯¥ä»¥actionå¼€å¤´ï¼ŒeventMapä¸­ç”±äºdata-actionä¸ºä¸­æ–‡ï¼Œæ‰€ä»¥ä¸éœ€è¦å†æ·»åŠ é¢å¤–çš„æ³¨é‡Š
  >
  > ```
  > <
  > button data-action="æ–°å¢ç§ç±»"
  > >
  > æ–°å¢ç§ç±»
  > <
  > /button
  > >
  > <
  > script
  > >
  >
  > this.eventMap = {
  >   '[data-action="æ–°å¢ç§ç±»"]': this.actionAddKind
  > };
  >
  > <
  > /script
  > >
  > ```
* cssçš„å‘½ååº”å½“æ·»åŠ æ¨¡å—åçš„ç¼©å†™ä½œä¸ºå‰ç¼€ï¼Œä»¥å…åœ¨cssåˆå¹¶æ‰“åŒ…åï¼Œä¸åŒæ¨¡å—é—´çš„cssç›¸äº’å½±å“

## è¯­æ³• {#-}

### ä½¿ç”¨è¯­è¨€çš„é«˜çº§ç‰¹æ€§ {#-}

ä¸€ä¸ªå¥½çš„æ —å­ğŸŒ°ï¼š

```
var ids = [];
for(var i = 0; i 
<
 things.length; i++) {
  ids.push(things[i].id);
}

```

ä¸‹é¢çš„æ–¹æ³•æ˜¯ç­‰ä»·çš„ï¼Œå¹¶ä¸”å°‘å®šä¹‰å‡ ä¸ªåå­—å“¦

```
var ids = things.map(function(thing) {
  return thing.id;
});

```

### é€‚å½“æƒ…å†µä¸‹ï¼Œå‡å°‘ä½¿ç”¨è¯­æ³•æŠ€å·§ {#-}

```
imTricky 
&
&
 doMagic();

```

è¿™æ ·çœ‹èµ·æ¥è´Ÿæ‹…å°ä¸€äº›

```
if(imTricky) {
    doMagic();
}

```

  


